<WithSearch
  @mapContextToProps={{map-context-to-props
    "pagingStart"
    "pagingEnd"
    "resultSearchTerm"
    "totalResults"
  }}
  @driver={{@driver}} as |state|
>
  {{#if @view}}
    {{#let (component (ensure-safe-component @view)) as |View|}}
      <View
        @searchTerm={{state.resultSearchTerm}}
        @start={{state.pagingStart}}
        @end={{state.pagingEnd}}
        @totalResults={{state.totalResults}}
        ...attributes
      />
    {{/let}}
  {{else}}
    {{yield
      (hash
        searchTerm=state.resultSearchTerm
        start=state.pagingStart
        end=state.pagingEnd
        totalResults=state.totalResults
      )
    }}
  {{/if}}
</WithSearch>
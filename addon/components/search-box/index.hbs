<Containers::SearchBox
  @driver={{@driver}}
  @view={{@view}}
  @autocompleteMinimumCharacters={{@autocompleteMinimumCharacters}}
  @autocompleteResults={{@autocompleteResults}}
  @autocompleteSuggestions={{@autocompleteSuggestions}}
  @autocompleteView={{@autocompleteView}}
  @shouldClearFilters={{@shouldClearFilters}}
  @debounceLength={{@debounceLength}}
  @inputProps={{@inputProps}}
  @inputView={{@inputView}}
  @onSelectAutocomplete={{@onSelectAutocomplete}}
  @onSubmit={{@onSubmit}}
  @searchAsYouType={{@searchAsYouType}}
  ...attributes as |state|
>
  <BasicDropdown
    @triggerComponent="search-box/empty"
		@renderInPlace={{true}}
    @matchTriggerWidth={{true}} as |dd|
  >
    <form {{on "submit" state.onSubmit}}>
      <dd.Trigger
        {{on "keydown" (fn this.open dd)}}
        {{on "focus" state.inputProps.onFocus}}
        {{on "blur" state.inputProps.onBlur}}
      >
        {{component
          (if state.inputView state.inputView "search-input")
          value=state.value
          onChange=state.onChange
          isFocused=state.isFocused
          inputProps=state.inputProps
          didInsertInput=this.didInsertInput
        }}
      </dd.Trigger>
      <dd.Content>
        {{#if
          (and
            dd.isOpen
            state.useAutocomplete
            (gt state.allAutocompletedItemsCount 0)
          )
        }}
          {{component
            (if state.autocompleteView state.autocompleteView "autocomplete")
            autocompleteResults=state.autocompleteResults
						autocompletedResults=state.autocompletedResults
						autocompleteSuggestions=state.autocompleteSuggestions
						autocompletedSuggestions=state.autocompletedSuggestions
          }}
        {{/if}}
      </dd.Content>
    </form>
  </BasicDropdown>
</Containers::SearchBox>
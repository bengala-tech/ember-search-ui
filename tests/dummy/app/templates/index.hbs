<SearchProvider @config={{this.config}} as |driver|>
  <SearchBox
    @driver={{driver}}
    @searchAsYouType={{true}}
    @autocompleteResults={{hash sectionTitle="Results" titleField="name"}}
  />
  <Sorting
    @driver={{driver}}
    @sortOptions={{array
      (hash name="Relevance" value="" direction="")
      (hash name="Price Desc" value="title" direction="asc")
    }}
    @label="Pets:"
  />
  <WithSearch
    @driver={{driver}}
    @mapContextToProps={{map-context-to-props "results"}} as |state|
  >
    <ul>
      {{#each state.results as |pet|}}
        <li>
          {{pet.name}}
        </li>
      {{/each}}
    </ul>
  </WithSearch>
</SearchProvider>